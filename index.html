<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pedido Invierno AW26-27</title>

<style>
body{font-family:-apple-system,Arial;margin:0;background:#f5f2ee;}
header{background:#2b2b2b;color:white;padding:15px;}
h1{margin:0;font-size:18px;}
.container{padding:15px;}
input,button{padding:8px;border-radius:8px;border:1px solid #ccc;}
button{background:#2b2b2b;color:white;border:none;cursor:pointer;}
table{width:100%;border-collapse:collapse;background:white;margin-top:10px;}
th,td{border:1px solid #ddd;padding:6px;text-align:center;font-size:12px;}
th{background:#f0ece6;}
tfoot td{font-weight:bold;background:#f0ece6;}
.searchBox{margin-bottom:10px;}
</style>
</head>

<body>

<header>
<h1>Pedido Invierno AW26-27 — Abuela Tata</h1>
</header>

<div class="container">

<div class="searchBox">
<input id="search" placeholder="Buscar referencia...">
<button onclick="addProduct()">Añadir</button>
</div>

<div style="overflow:auto;">
<table id="orderTable">
<thead>
<tr>
<th>Ref</th>
<th>Descripción</th>
<th>Precio</th>
<th>3M</th><th>6M</th><th>9M</th><th>12M</th><th>18M</th>
<th>2Y</th><th>3Y</th><th>4Y</th><th>5Y</th><th>6Y</th>
<th>8Y</th><th>10Y</th><th>12Y</th><th>14Y</th><th>16Y</th>
<th>Total</th>
</tr>
</thead>
<tbody></tbody>
<tfoot>
<tr>
<td colspan="17">TOTAL GENERAL</td>
<td id="grandTotal">0 €</td>
</tr>
</tfoot>
</table>
</div>

</div>

<script>

const sizes=["3M","6M","9M","12M","18M","2Y","3Y","4Y","5Y","6Y","8Y","10Y","12Y","14Y","16Y"];

const products={
"1299426":{desc:"BABY DRESS SET",price:53.80},
"2599426":{desc:"DRESS",price:50.65},
"0899426":{desc:"HEADBAND",price:9.25}
};

function addProduct(){
let ref=document.getElementById("search").value.trim();
if(!products[ref]){alert("Referencia no encontrada");return;}

let table=document.querySelector("#orderTable tbody");
let row=document.createElement("tr");

row.innerHTML="<td>"+ref+"</td>"+
"<td>"+products[ref].desc+"</td>"+
"<td>"+products[ref].price.toFixed(2)+"</td>";

sizes.forEach(size=>{
row.innerHTML+="<td><input type='number' min='0' value='0' onchange='calculate()' style='width:50px'></td>";
});

row.innerHTML+="<td class='rowTotal'>0</td>";

table.appendChild(row);
document.getElementById("search").value="";
}

function calculate(){
let grand=0;
document.querySelectorAll("#orderTable tbody tr").forEach(row=>{
let price=parseFloat(row.cells[2].innerText);
let total=0;
sizes.forEach((size,i)=>{
let qty=parseInt(row.cells[3+i].querySelector("input").value)||0;
total+=qty*price;
});
row.querySelector(".rowTotal").innerText=total.toFixed(2);
grand+=total;
});
document.getElementById("grandTotal").innerText=grand.toFixed(2)+" €";
}

</script>

</body>
</html>
